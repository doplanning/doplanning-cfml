var curAreaId=0;var areaWithLink=false;var currentTab="#tab1";function windowHeight(){var a=document.documentElement;return a.clientHeight;}function getURLParameterFromPath(a,b){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(b)||[,""])[1].replace(/\+/g,"%20"))||null;}function openUrl(a,b){if(b=="itemIframe"){if(currentTab=="#tab3"){loadIframeSearchItemPage(a);}else{loadIframeItemPage(a);}}else{if(b=="areaIframe"){if(currentTab!="#tab2"){$('#dpTab a[href="#tab2"]').tab("show");iframePage=a;var c=getURLParameterFromPath("area",a);selectTreeNode(c);}else{loadIframePage(a);}}else{loadIframePage(a);}}}function getFilename(a){return a.substring(a.lastIndexOf("/")+1);}function loadIframePage(a){$("#areaIframe").attr("src","iframes/"+getFilename(a));}function loadIframeItemPage(a){$("#itemIframe").attr("src","iframes2/"+getFilename(a));}function loadIframeSearchItemPage(a){$("#searchItemIframe").attr("src","iframes2/"+getFilename(a));}function areaIframeLoaded(){}function loadAreaImage(a){if(applicationId!="vpnet"){$("#areaImage").attr("src","../app/downloadAreaImage.cfm?id="+a);}}function setWithLink(a){areaWithLink=a;if(a==true){$("#areaImageAnchor").css("cursor","pointer");}else{$("#areaImageAnchor").css("cursor","default");}}function goToAreaLink(){if(areaWithLink==true){window.open("../app/goToAreaLink.cfm?id="+curAreaId,"_blank");}}function loadTree(a){$("#loadingContainer").show();$("#mainContainer").hide();var b=Math.floor(Math.random()*1001);$("#treeContainer").load("html_content/tree.cfm?n="+b,function(){showTree(true);});}function updateTree(){loadTree("");}function selectTreeNode(a){$("#areasTreeContainer").jstree("select_node","#"+a,true);}function areaSelected(c,a,b){curAreaId=c;loadAreaImage(c);setWithLink(b);if(iframePage.length>0){loadIframePage(iframePage);iframePage="";}else{loadIframePage(a);}$('#dpTab a[href="#tab2"]').tab("show");}function searchTextInTree(){searchInTree(document.getElementById("searchText").value);}