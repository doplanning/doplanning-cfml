d3.gantt=function(){var m="fit";var t="fixed";var k={top:20,right:40,bottom:20,left:160};var c=d3.time.day.offset(new Date(),-3);var s=d3.time.hour.offset(new Date(),+3);
var g=m;var n=[];var q=[];var l=document.body.clientHeight-k.top-k.bottom-5;var o=document.body.clientWidth-k.right-k.left-5;var p="%H:%M";var f=function(u){return u.startDate+u.taskName+u.endDate;
};var e=function(u){return"translate("+j(u.startDate)+","+i(u.taskName)+")";};var j=d3.time.scale().domain([c,s]).range([0,o]).clamp(true);var i=d3.scale.ordinal().domain(n).rangeRoundBands([0,l-k.top-k.bottom],0.1);
var h=d3.svg.axis().scale(j).orient("bottom").tickFormat(d3.time.format(p)).tickSubdivide(true).tickSize(8).tickPadding(8);var a=d3.svg.axis().scale(i).orient("left").tickSize(0);
var d=function(u){if(g===m){if(u===undefined||u.length<1){c=d3.time.day.offset(new Date(),-3);s=d3.time.hour.offset(new Date(),+3);return;}u.sort(function(w,v){return w.endDate-v.endDate;
});s=u[u.length-1].endDate;u.sort(function(w,v){return w.startDate-v.startDate;});c=u[0].startDate;}};var b=function(){j=d3.time.scale().domain([c,s]).range([0,o]).clamp(true);
i=d3.scale.ordinal().domain(n).rangeRoundBands([0,l-k.top-k.bottom],0.1);h=d3.svg.axis().scale(j).orient("bottom").tickFormat(d3.time.format(p)).tickSubdivide(true).tickSize(8).tickPadding(8);
a=d3.svg.axis().scale(i).orient("left").tickSize(0);};function r(v){d(v);b();var u=d3.select("body").append("svg").attr("class","chart").attr("width",o+k.left+k.right).attr("height",l+k.top+k.bottom).append("g").attr("class","gantt-chart").attr("width",o+k.left+k.right).attr("height",l+k.top+k.bottom).attr("transform","translate("+k.left+", "+k.top+")");
u.selectAll(".chart").data(v,f).enter().append("rect").attr("rx",5).attr("ry",5).attr("class",function(w){if(q[w.status]==null){return"bar";}return q[w.status];
}).attr("y",0).attr("transform",e).attr("height",function(w){return i.rangeBand();}).on("click",function(w){verDatos(w);}).on("mouseover",function(w){showD3Tooltip(w);
}).on("mouseout",function(w){hideD3Tooltip(w);}).attr("width",function(w){return(j(w.endDate)-j(w.startDate));});u.append("g").attr("class","x axis").attr("transform","translate(0, "+(l-k.top-k.bottom)+")").transition().call(h);
u.append("g").attr("class","y axis").transition().call(a);return r;}r.redraw=function(x){d(x);b();var u=d3.select("svg");var v=u.select(".gantt-chart");
var w=v.selectAll("rect").data(x,f);w.enter().insert("rect",":first-child").attr("rx",5).attr("ry",5).attr("class",function(y){if(q[y.status]==null){return"bar";
}return q[y.status];}).transition().attr("y",0).attr("transform",e).attr("height",function(y){return i.rangeBand();}).attr("width",function(y){return(j(y.endDate)-j(y.startDate));
});w.transition().attr("transform",e).attr("height",function(y){return i.rangeBand();}).attr("width",function(y){return(j(y.endDate)-j(y.startDate));});
w.exit().remove();u.select(".x").transition().call(h);u.select(".y").transition().call(a);return r;};r.margin=function(u){if(!arguments.length){return k;
}k=u;return r;};r.timeDomain=function(u){if(!arguments.length){return[c,s];}c=+u[0],s=+u[1];return r;};r.timeDomainMode=function(u){if(!arguments.length){return g;
}g=u;return r;};r.taskTypes=function(u){if(!arguments.length){return n;}n=u;return r;};r.taskStatus=function(u){if(!arguments.length){return q;}q=u;return r;
};r.width=function(u){if(!arguments.length){return o;}o=+u;return r;};r.height=function(u){if(!arguments.length){return l;}l=+u;return r;};r.tickFormat=function(u){if(!arguments.length){return p;
}p=u;return r;};return r;};